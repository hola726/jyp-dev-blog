@import "tailwindcss";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

/* Code block styles for rehype-pretty-code */
[data-rehype-pretty-code-figure] pre {
  @apply rounded-lg border border-slate-200 dark:border-slate-800 px-0 py-4;
}

[data-rehype-pretty-code-figure] code {
  @apply text-sm grid;
  counter-reset: line;
}

[data-rehype-pretty-code-figure] code > [data-line] {
  @apply px-4 border-l-2 border-transparent;
}

[data-rehype-pretty-code-figure] code > [data-line]::before {
  counter-increment: line;
  content: counter(line);
  @apply inline-block w-6 mr-4 text-right text-slate-500;
}

[data-rehype-pretty-code-figure] code [data-highlighted-line] {
  @apply bg-indigo-50/50 dark:bg-indigo-950/30 border-l-indigo-500;
}

[data-rehype-pretty-code-figure] [data-rehype-pretty-code-title] {
  @apply rounded-t-lg border border-b-0 border-slate-200 bg-slate-50 px-4 py-2 text-sm font-medium text-slate-700 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-300;
}

[data-rehype-pretty-code-figure] [data-rehype-pretty-code-title] + pre {
  @apply rounded-t-none;
}

/* Copy button for code blocks */
[data-rehype-pretty-code-figure] {
  @apply relative;
}

[data-rehype-pretty-code-figure]:hover button[data-copy] {
  @apply opacity-100;
}

/* Dual theme support */
html:not(.dark) [data-theme="dark"],
html.dark [data-theme="light"] {
  display: none;
}

/* Medium-style prose */
.prose-medium {
  font-size: 1.125rem;
  line-height: 1.8;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply rounded-full bg-slate-300 dark:bg-slate-700;
}
